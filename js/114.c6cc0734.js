"use strict";(self["webpackChunktool"]=self["webpackChunktool"]||[]).push([[114],{6114:function(e,s,a){a.r(s),a.d(s,{default:function(){return m}});a(4114),a(8111),a(2489),a(7588);var l=a(6768),o=a(4232),t=a(144);const c=["id","src"],n={key:0,class:"progress-bar"},i={class:"video-info"},u={class:"author"},v={class:"description"},r={class:"music"},d={class:"video-controls"},p={key:0,class:"fas fa-pause"},h={key:1,class:"fas fa-play"};var f={__name:"myVideo",setup(e){const s=(0,t.KR)([{id:1,src:"http://www.bai-home.fun/mp4/婚礼.mp4",poster:"https://picsum.photos/360/640?random=1",author:"小白",description:"幸福的婚礼 #婚礼 #幸福",music:"婚礼进行曲",likes:1245,comments:89,shares:30}]),a=(0,t.KR)(0),f=(0,t.KR)(!1),k=(0,t.KR)(0),m=(0,t.KR)(0),y=(0,t.KR)(!0),L=((0,t.KR)([]),(0,t.KR)(!0)),b=((0,l.EW)(()=>s.value[a.value]),e=>{const s=e.target;k.value=s.currentTime/s.duration*100}),C=()=>{const e=document.getElementById(`video-${a.value}`);console.log(e.play),e&&(e.paused?e.play().then(()=>{f.value=!0}).catch(e=>{console.error("播放失败:",e),L.value=!0}):(e.pause(),f.value=!1))},g=e=>{if(e<0||e>=s.value.length)return;const l=document.getElementById(`video-${a.value}`);l&&l.pause(),a.value=e,setTimeout(()=>{const e=document.getElementById(`video-${a.value}`);e&&e.play().then(()=>{f.value=!0}).catch(e=>{console.error("播放失败:",e),f.value=!1})},300)},E=e=>{m.value=e.touches[0].clientY},K=e=>{if(!m.value)return;const s=e.touches[0].clientY,l=s-m.value;if(Math.abs(l)>50){y.value=!1;const e=document.querySelector(".video-wrapper");e&&(e.style.transform=`translateY(calc(-${100*a.value}% + ${l}px))`)}},T=e=>{if(!m.value)return;const s=e.changedTouches[0].clientY,l=s-m.value;m.value=0,y.value=!0,Math.abs(l)>100&&g(l>0?a.value-1:a.value+1)};return(0,l.sV)(()=>{s.value.forEach(e=>{e.liked=!1})}),(e,t)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[t[6]||(t[6]=(0,l.Fv)('<div class="header"><div class="logo">短视频</div><div class="search-box"><i class="fas fa-search"></i><input type="text" placeholder="搜索内容"></div><div class="nav-icons"><i class="fas fa-inbox"></i><i class="fas fa-comment"></i></div></div>',1)),(0,l.Lk)("div",{class:"video-container",onTouchstart:E,onTouchmove:K,onTouchend:T},[(0,l.Lk)("div",{class:"video-wrapper",style:(0,o.Tr)({transform:`translateY(-${100*a.value}%)`,transition:y.value?"transform 0.3s ease":"none"})},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.value,(e,s)=>((0,l.uX)(),(0,l.CE)("div",{class:"video-item",key:e.id},[(0,l.Lk)("video",{id:"video-"+s,controls:"",src:e.src,onTimeupdate:b,onClick:C},null,40,c),s===a.value?((0,l.uX)(),(0,l.CE)("div",n,[(0,l.Lk)("div",{class:"progress",style:(0,o.Tr)({width:k.value+"%"})},null,4)])):(0,l.Q3)("",!0),(0,l.Lk)("div",i,[(0,l.Lk)("div",u,[(0,l.eW)(" @"+(0,o.v_)(e.author)+" ",1),t[2]||(t[2]=(0,l.Lk)("span",null,"关注",-1))]),(0,l.Lk)("div",v,(0,o.v_)(e.description),1),(0,l.Lk)("div",r,[t[3]||(t[3]=(0,l.Lk)("span",{class:"music-icon"},"🎵",-1)),(0,l.eW)(" "+(0,o.v_)(e.music),1)])])]))),128))],4),(0,l.Lk)("div",d,[(0,l.Lk)("div",{class:"control-btn",onClick:t[0]||(t[0]=e=>g(a.value-1))},t[4]||(t[4]=[(0,l.Lk)("i",{class:"fas fa-chevron-left"},null,-1)])),(0,l.Lk)("div",{class:"control-btn play-btn",onClick:C},[f.value?((0,l.uX)(),(0,l.CE)("i",p)):((0,l.uX)(),(0,l.CE)("i",h))]),(0,l.Lk)("div",{class:"control-btn",onClick:t[1]||(t[1]=e=>g(a.value+1))},t[5]||(t[5]=[(0,l.Lk)("i",{class:"fas fa-chevron-right"},null,-1)]))])],32)],64))}};const k=f;var m=k}}]);
//# sourceMappingURL=114.c6cc0734.js.map